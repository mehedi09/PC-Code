Type.registerNamespace("Web");Web.Membership=function(){Web.Membership.initializeBase(this);this._membershipBar=null;this._intervalId=null;Web.Membership._instance=this;this._displayLogin=!0};Web.Membership.prototype={initialize:function(){Web.Membership.callBaseMethod(this,"initialize");Web.Membership._instance||(Web.Membership._instance=this);this._loginButtonClickHandler=Function.createDelegate(this,this._loginButtonClick);this._loginDialogMouseOverHandler=Function.createDelegate(this,this._loginDialogMouseOver);this._loginDialogMouseOutHandler=Function.createDelegate(this,this._loginDialogMouseOut);this._login_CompletedHandler=Function.createDelegate(this,this._login_Completed);this._method_FailureHandler=Function.createDelegate(this,this._method_Failure);this._textBoxKeyPressHandler=Function.createDelegate(this,this._textBoxKeyPress);this._body_keydownDelegate=Function.createDelegate(this,this._body_keydown);this._body_mousemoveDelegate=Function.createDelegate(this,this._body_mousemove);$addHandler(document.body,"keydown",this._body_keydownDelegate);$addHandler(document.body,"mousemove",this._body_mousemoveDelegate);this._window_beforeUnloadDelegate=Function.createDelegate(this,this._window_beforeUnload);$addHandler(window,"beforeunload",this._window_beforeUnloadDelegate)},dispose:function(){this.idleInterval(!1);this._disposeIdentityResources();$removeHandler(window,"beforeunload",this._window_beforeUnloadDelegate);$removeHandler(document.body,"keydown",this._body_keydownDelegate);$removeHandler(document.body,"mousemove",this._body_mousemoveDelegate);this._loginButton&&$clearHandlers(this._loginButton);this._loginDialog&&$clearHandlers(this._loginDialog);this._userName&&$clearHandlers(this._userName);this._password&&$clearHandlers(this._password);delete this._membershipBar;delete this._bookmarkBar;this._hideHistory();Web.Membership.callBaseMethod(this,"dispose")},get_membershipBar:function(){return this._membershipBar},get_isLoginDialogVisible:function(){return this._isLoginDialogVisible},set_isLoginDialogVisible:function(n){this._isLoginDialogVisible=n},get_displayRememberMe:function(){return this._displayRememberMe!=!1},set_displayRememberMe:function(n){this._displayRememberMe=n},get_rememberMeSet:function(){return this._rememberMeSet==!0},set_rememberMeSet:function(n){this._rememberMeSet=n},get_displayLogin:function(){return this._displayLogin},set_displayLogin:function(n){this._displayLogin=n},get_displayPasswordRecovery:function(){return this._displayPasswordRecovery!=!1},set_displayPasswordRecovery:function(n){this._displayPasswordRecovery=n},get_displaySignUp:function(){return this._displaySignUp!=!1},set_displaySignUp:function(n){this._displaySignUp=n},get_displayMyAccount:function(){return this._displayMyAccount},set_displayMyAccount:function(n){this._displayMyAccount=n},get_displayHelp:function(){return this._displayHelp},set_displayHelp:function(n){this._displayHelp=n},get_baseUrl:function(){return this._baseUrl},set_baseUrl:function(n){this._baseUrl=n},get_servicePath:function(){return this._servicePath},set_servicePath:function(n){this._servicePath=n},get_welcome:function(){return String.isNullOrEmpty(this._welcome)?Web.MembershipResources.Bar.Welcome:this._welcome},set_welcome:function(n){this._welcome=n},get_user:function(){return this._user},set_user:function(n){this._user=n},get_enablePermalinks:function(){return this._enablePermalinks==!0},set_enablePermalinks:function(n){this._enablePermalinks=n},get_enableHistory:function(){return this._enableHistory==!0},set_enableHistory:function(n){this._enableHistory=n},get_isAuthenticated:function(){return this._isAuthenticated},set_isAuthenticated:function(n){this._isAuthenticated=n},get_commandLine:function(){return this._commandLine},set_commandLine:function(n){this._commandLine=n},showLoginDialog:function(){this.hideLoginDialog()},hideLoginDialog:function(){this._intevalId&&(window.clearInterval(this._intervalId),this._intervalId=null)},addPermalink:function(n,t){if(this.get_enablePermalinks()||this.get_enableHistory()){var i=location.pathname+"?"+n;this._savePermalinkParams={link:i,html:t};window.setTimeout("Web.Membership._instance._savePermalink()",500);Sys.UI.DomElement.getVisible(this._membershipBar)||this._encodePermalink_Success("")}},_savePermalink:function(){Sys.Net.WebServiceProxy.invoke(this.get_servicePath(),"SavePermalink",!1,this._savePermalinkParams)},showPermalink:function(){if(!this._savePermalinkParams||String.isNullOrEmpty(this._savePermalinkParams.html)){$appfactory.alert(Web.MembershipResources.Messages.PermalinkUnavailable);return}this.encodePermalink(this._savePermalinkParams.link,Function.createDelegate(this,this._encodePermalink_Success))},encodePermalink:function(n,t){t||(t=function(n){location.href=n});Sys.Net.WebServiceProxy.invoke(this.get_servicePath(),"EncodePermalink",!1,{link:n,rooted:!0},t,Function.createDelegate(this,this._onMethodFailed))},showHistory:function(){this._historyDiv||Sys.Net.WebServiceProxy.invoke(this.get_servicePath(),"ListAllPermalinks",!1,null,Function.createDelegate(this,this._showHistory_Success),Function.createDelegate(this,this._method_Failure))},_focusHistory:function(){var n=$get(this.get_id()+"_RotateHistory");n&&n.focus()},_renderHistory:function(){var s=$appfactory.clientBounds(),l=$appfactory.scrolling(),u=new Sys.StringBuilder,r,i,a,n,t,o;u.appendFormat('<div onclick="$find(\'{0}\')._hideHistory()" style="width:{1}px;height:{2}px;">',this.get_id(),s.width,s.height);r=this._historyData.length;r>10&&(r=10);var h=0,c=0,e=50,f=30;for(r<=3?(e=65,f=30):r<=6&&(e=65,f=30),i=r-1;i>=0;i--)a=this._historyData[i][1],u.appendFormat('<div style="position:absolute;background-color:#333333;"><\/div><div id="{0}_Card{1}" onclick="$find(\'{0}\')._selectHistory({1});return false;" style="position:absolute;left:{2}px;top:{3}px;" onmouseover="if(this._Activated!=99){{this.style.zIndex=600001;this._Activated=99;var s=this.previousSibling;s.style.zIndex=600000;s.style.backgroundColor=\'black\'}}" onmouseout="this.style.zIndex=\'{4}\';this._Activated=0;var s=this.previousSibling;s.style.zIndex=\'{4}\';s.style.backgroundColor=\'#333333\'">',this.get_id(),i,h,c,Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.version>=9?-1:"auto"),u.append(a),u.append("<\/div>"),i==0&&u.appendFormat('<a id="{0}_RotateHistory" class="RotateHistory" href="javascript:" onclick="$find(\'{0}\')._rotateHistory(event);return false;"><div id="{0}_RotateButton" title="{3}" style="position:absolute;z-index:600002;left:{1}px;top:{2}px;" class="RotateHistory">&nbsp;<\/div><\/a>',this.get_id(),h+110,c-15,Web.MembershipResources.Bar.RotateHistory),h+=e,c+=f;for(u.append("<\/div>"),this._historyDiv.innerHTML=u.toString(),n=$get(this.get_id()+"_Card0"),t=$appfactory.bounds(n),e=Math.floor((s.width-(t.x+t.width))/2),f=this._historyOffsetTop?this._historyOffsetTop:Math.floor((s.height-(t.y+t.height))/2),this._historyOffsetTop=f,n=$get(this.get_id()+"_RotateButton"),n.style.left=n.offsetLeft+e+"px",n.style.top=n.offsetTop+f+"px",r==1&&(n.style.width="1px",n.style.height="1px"),i=0;i<r;i++)n=$get(this.get_id()+"_Card"+i),n.style.left=n.offsetLeft+e+"px",n.style.top=n.offsetTop+f+"px",t=$appfactory.bounds(n),t.x+=10-l.x,t.y+=4-l.y,o=n.previousSibling,o.style.left=t.x+"px",o.style.top=t.y+"px",o.style.width=t.width-13+"px",o.style.height=t.height-0+"px"},_selectHistory:function(n){this.encodePermalink(this._historyData[n][0])},_hideHistory:function(){this._historyModalPopup&&(this._historyModalPopup.hide(),this._historyDiv&&(this._historyDiv.parentNode.removeChild(this._historyDiv),delete this._historyDiv),this._historyModalPopup.dispose(),delete this._historyModalPopup)},_rotateHistory:function(n){var i=this._historyData[0],t;Array.removeAt(this._historyData,0);Array.add(this._historyData,i);this._renderHistory();this._focusHistory();try{t=new Sys.UI.DomEvent(n);t.stopPropagation();t.preventDefault()}catch(r){}},_showHistory_Success:function(n){if(n.length==0){$appfactory.alert(Web.MembershipResources.Messages.HistoryUnavailable);return}this._historyData=n;var t=this._historyDiv=document.createElement("div");document.body.appendChild(t);t.id=this.get_id()+"_HistoryPanel";t.className="History";this._historyOffsetTop=null;this._renderHistory();this._historyModalPopup=$create(AjaxControlToolkit.ModalPopupBehavior,{PopupControlID:t.id,DropShadow:!1,BackgroundCssClass:"ModalBackground"},null,null,$get(this.get_id()+"_HistoryLink"));this._historyModalPopup.show();this._focusHistory()},_encodePermalink_Success:function(n){var i=$get(this.get_id()+"_Permalink"),r=$get(this.get_id()+"_AddToFavorites"),u=$get(this.get_id()+"_CancelFavorites"),t=!Sys.UI.DomElement.getVisible(i.parentNode);Sys.UI.DomElement.setVisible(i.parentNode,t);Sys.UI.DomElement.setVisible(r.parentNode,t);Sys.UI.DomElement.setVisible(u.parentNode,t);Sys.UI.DomElement.setVisible(this._membershipBar,!t);t&&(i.value=n);i.parentNode.title=this._savePermalinkParams.html.replace(/<div class="Value">/g," = ").replace(/(\s*<.+?>\s*)+/g,"\r\r").trim().replace(/&\w+;/g,"").replace(/(\r\r)+/g,"; ").replace(/;\s*=/g," = ").replace(/=\s*;/g," = ")},_addToFavorites:function(){var n;this._encodePermalink_Success("");var r=$get(this.get_id()+"_Permalink"),t=r.parentNode.title,i=r.value;window.sidebar?window.sidebar.addPanel(t,i,""):window.opera&&window.print?(n=document.createElement("a"),n.setAttribute("href",i),n.setAttribute("title",t),n.setAttribute("rel","sidebar"),n.click()):document.all&&window.external.AddFavorite(i,t)},changeLoginDialogVisibility:function(n,t){if(this._intevalId&&(window.clearInterval(this._intevalId),this._intevalId=null),t)this._intevalId=window.setInterval(String.format('$find("{0}").changeLoginDialogVisibility({1})',this.get_id(),n),t);else if(n!=this.get_isLoginDialogVisible()){var i=$get("LoginControlsRow",this._membershipBar);i&&(n?Sys.UI.DomElement.removeCssClass(this._loginDialog,"LoginDialogCollapsed"):Sys.UI.DomElement.addCssClass(this._loginDialog,"LoginDialogCollapsed"),Sys.UI.DomElement.setVisible(i,n));!n||document.activeElement&&document.activeElement.id=="Password"||this._userName.focus();this.set_isLoginDialogVisible(n);n&&Web.HoverMonitor._instance.close()}},get_authenticationEnabled:function(){return this._authenticationEnabled==null||this._authenticationEnabled==!0},set_authenticationEnabled:function(n){this._authenticationEnabled=n},get_idleTimeout:function(){return this._idleTimeout==null?0:this._idleTimeout},set_idleTimeout:function(n){this._idleTimeout=n},get_cultures:function(){return this._cultures},set_cultures:function(n){this._cultures=n},get_cultureName:function(){var t=this._cultureList,n;if(t)for(n=0;n<t.length;n++)if(t[n][2]=="True")return t[n][1];return null},changeCulture:function(n){var t=new Date;t.setDate(t.getDate()+14);document.cookie=String.format(".COTCULTURE={0}; expires={1}; path=/",n,t.toUTCString());location.replace($appfactory.unanchor(location.href))},_idle:function(){var r,i,n,t;for(Web.HoverMonitor._instance.close(),r=Sys.Application.getComponents(),i=r.length-1;i>=0;i--)n=r[i],Web.DataView.isInstanceOfType(n)&&(n.get_isModal()?n.endModalState("Cancel"):n.get_lookupField()&&n.hideLookup());this._protecting=!0;t=this._idleDialog=document.createElement("div");t.id=this.get_id()+"$IdentityValidation";document.body.appendChild(t);t.innerHTML=String.format('<div class="ModalPlaceholder FixedDialog UserIdle"><div class="Text">{1}<\/div><div class="Buttons"><button onclick="$find(\'{0}\').logout();return false;" >{2}<\/button><\/div><\/div>',this.get_id(),Web.MembershipResources.Bar.UserIdle,Web.MembershipResources.Bar.LoginLink);this._identityModalPopup=$create(AjaxControlToolkit.ModalPopupBehavior,{PopupControlID:t.id,DropShadow:!0,BackgroundCssClass:"ModalBackground"},null,null,this._membershipBar.getElementsByTagName("a")[0]);this._identityModalPopup.show()},idle:function(){var n=(new Date).getTime()-this._lastActivity>this.get_idleTimeout()&&!this._protecting&&$app.loggedIn();return n&&this._idle(),n},_disposeIdentityResources:function(){this._identityModalPopup&&(this._identityModalPopup.dispose(),this._idleDialog.parentNode.removeChild(this._idleDialog),delete this._idleDialog,this._identityModalPopup=null)},_updateLastActivity:function(){this._lastActivity=new Date},_body_keydown:function(n){this._updateLastActivity();this._historyDiv&&(n.keyCode==Sys.UI.Key.esc?(n.preventDefault(),this._hideHistory()):n.keyCode==Sys.UI.Key.tab?(n.preventDefault(),this._rotateHistory()):n.keyCode==Sys.UI.Key.enter&&(n.preventDefault(),this._selectHistory(0)))},_body_mousemove:function(){this._updateLastActivity()},_window_beforeUnload:function(){this._protecting&&(this._protecting=!1,this._disposeIdentityResources(),this.logout())},loggedIn:function(){var n=$app.loggedIn();return n||String.isNullOrEmpty(this.get_user())||(n=!0),n},idleInterval:function(n){var t=this;t._idleIntervalId&&(clearInterval(t._idleIntervalId),t._idleIntervalId=null);n&&t.get_idleTimeout()>0&&(t._idleIntervalId=window.setInterval(function(){t.idle()},6e4))},updated:function(){var n,r,u,f,e,o,i,l,t;if(Web.Membership.callBaseMethod(this,"updated"),n=Web.MembershipResources.Bar,t=this,t.idleInterval(!0),t._updateLastActivity(),!String.isNullOrEmpty(t.get_cultures())){t._cultureList=[];var a=String.format("Detect,Detect|{0}|False;{1}",Web.MembershipResources.Bar.AutoDetectLanguageOption,t.get_cultures()),s=a.split(/;/),c="Membership$Cultures",h=[];for(r=0;r<s.length;r++)String.isBlank(s[r])||(u=s[r].split(/\|/),Array.add(t._cultureList,u),f=new Web.Item(c,u[1]),u[2]=="True"&&f.set_selected(!0),f.set_script(String.format("$find('{0}').changeCulture('{1}');",t.get_id(),u[0])),Array.add(h,f),r==0&&Array.add(h,new Web.Item));$registerItems(c,h,Web.HoverStyle.ClickAndStay,Web.PopupPosition.Right,Web.ItemDescriptionStyle.None)}e=document.createElement("div");e.className="MembershipBarPlaceholder";document.body.insertBefore(e,document.body.childNodes[0]);t._membershipBar=$get("Membership_Login");o=t.loggedIn();t._membershipBar||(t._membershipBar=document.createElement("div"),document.body.childNodes.length>0?document.body.insertBefore(t._membershipBar,document.body.childNodes[0]):document.body.appendChild(t._membershipBar),i=new Sys.StringBuilder,t._membershipBar.id="Membership_Login",t._membershipBar.className="MembershipBar",!t._cultureList||__tf!=4||i.append(String.format('<div style="float:right" class="CultureLink"> | <a href="javascript:" onclick="$toggleHover();return false;" title="{1}" onfocus="$showHover(this, \'Membership$Cultures\', \'CultureSelector\', 1)" onblur="$hideHover(this)" onmouseover="$showHover(this, \'Membership$Cultures\', \'CultureSelector\', 1)" onmouseout="$hideHover(this)">{0}<\/a><\/div>',this.get_cultureName(),n.ChangeLanguageToolTip)),this.get_displayHelp()&&i.append(String.format('<div style="float:right" class="HelpLink"> | <a href="javascript:" onclick="$find(&quot;{0}&quot;).help();return false;">{1}<\/a><\/div>',this.get_id(),n.HelpLink)),!o&&this.get_authenticationEnabled()?this.get_displayLogin()&&i.append(String.format('<table id="LoginDialog" cellpadding="0" class="LoginDialog"><tr><td id="Anchor"><a href="javascript:" onfocus="$find(&quot;{0}&quot;).changeLoginDialogVisibility(true);return false" >{1}<\/a>{2}<\/td><\/tr><tr id="LoginControlsRow"><td id="LoginControls"><table><tr><td align="right" nowrap="nowrap">{3}<\/td><td><input type="text" id="UserName" size="20" value="" /><\/td><\/tr><tr><td align="right" nowrap="nowrap">{4}<\/td><td><input type="password" id="Password" size="20" /><\/td><\/tr>'+(this.get_displayRememberMe()?String.format('<tr><td align="right" colspan="2"><input type="checkbox" id="RememberMe"{0}/><label for="RememberMe">{1}<\/label><\/td><\/tr>',this.get_rememberMeSet()?' checked="checked"':"",n.RememberMe):"")+(this.get_displayPasswordRecovery()?'<tr><td>&nbsp;<\/td><td align="right" nowrap="nowrap"><a href="javascript:" onclick="$find(&quot;{0}&quot).passwordRecovery();return false;" id="PasswordRecovery">{6}<\/a><\/td><\/tr>':"")+(this.get_displaySignUp()?'<tr><td>&nbsp;<\/td><td align="right" nowrap="nowrap"><a href="javascript:" onclick="$find(&quot;{0}&quot).signUp();return false;" id="SignUp">{7}<\/a><\/td><\/tr>':"")+'<tr><td>&nbsp;<\/td><td align="right"><button id="Login">{5}<\/button><\/td><\/tr><\/table><\/td><\/tr><\/table>',this.get_id(),n.LoginLink,n.LoginText,n.UserName,n.Password,n.LoginButton,n.ForgotPassword,n.SignUp)):i.append(String.format('<table id="LoginDialog" cellpadding="0" class="LoginDialog LoginDialogCollapsed"><tr><td>'+(this.get_welcome()&&!String.isBlank(this.get_welcome())?String.localeFormat(this.get_welcome(),this.get_user(),new Date)+(this.get_authenticationEnabled()?" | ":""):"")+(this.get_displayMyAccount()?'<a id="MyAccount" href="javascript:" onclick="$find(&quot;{0}&quot;).myAccount();return false;">{1}<\/a> | ':"")+(this.get_authenticationEnabled()?'<a href="javascript:" onclick="$find(&quot;{0}&quot;).logout();return false;">{2}<\/a>':"")+"<\/td><\/tr><\/table>",this.get_id(),n.MyAccount,n.LogoutLink)),this._membershipBar.innerHTML=i.toString(),o&&(this.get_enablePermalinks()||this.get_enableHistory())&&(this._bookmarkBar=document.createElement("div"),this._bookmarkBar.className="BookmarkBar",e.appendChild(this._bookmarkBar),i=new Sys.StringBuilder,i.append('<table class="Frame"><tr>'),this.get_enableHistory()&&i.appendFormat('<td><a id="{0}_HistoryLink" href="javascript:" onclick="$find(\'{0}\').showHistory();return false" title="{2}">{1}<\/a><\/td>',this.get_id(),n.History,n.HistoryToolTip),this.get_enableHistory()&&this.get_enablePermalinks()&&i.append("<td>|<\/td>"),this.get_enablePermalinks()&&i.appendFormat('<td><a href="javascript:" onclick="$find(\'{0}\').showPermalink();return false" title="{4}">{1}<\/a><\/td><td style="display:none"><input id="{0}_Permalink" type="text" onfocus="this.select();"/><\/td><td style="display:none"><a id="{0}_AddToFavorites" href="javascript:" onclick="$find(\'{0}\')._addToFavorites();return false" class="AddBookmark" title="{2}">&nbsp;<\/a><\/td><td style="display:none"><a id="{0}_CancelFavorites" href="javascript:" onclick="$find(\'{0}\').showPermalink();return false" class="CancelBookmark" title="{3}">&nbsp;<\/a><\/td>',this.get_id(),n.Permalink,n.AddToFavorites,n.HelpCloseButton,n.PermalinkToolTip),i.append("<\/tr><\/table>"),this._bookmarkBar.innerHTML=i.toString()));document.body.style.paddingTop="0px";!o&&this.get_displayLogin()&&(this._loginDialog=$get("LoginDialog",this._membershipBar),l=$appfactory.bounds(this._loginDialog),this._loginDialog.style.width=l.width+"px",$get("LoginControlsRow",this._loginDialog)&&$addHandlers(this._loginDialog,{mouseover:this._loginDialogMouseOverHandler,mouseout:this._loginDialogMouseOutHandler},this),this._loginButton=$get("Login",this._membershipBar),this._loginButton&&$addHandler(this._loginButton,"click",this._loginButtonClickHandler),t=this,$(this._membershipBar).find("input").keyup(function(n){n.which==13&&t.login()}),this._userName=$get("UserName",this._membershipBar),this._userName&&$addHandler(this._userName,"keypress",this._textBoxKeyPressHandler),this._password=$get("Password",this._membershipBar),this._password&&$addHandler(this._password,"keypress",this._textBoxKeyPressHandler),this._rememberMe=$get("RememberMe",this._membershipBar),this.changeLoginDialogVisibility(window.location.href.match(/\?ReturnUrl=(.+)$/)!=null))},_login_Completed:function(n){var t,i;this._wait(!1);n?(i=window.location.href.match(/\?ReturnUrl=(.+)$/),window.location.replace($appfactory.unanchor(i?unescape(i[1]):window.location.href))):(t=this,$appfactory.alert(Web.MembershipResources.Messages.InvalidUserNameAndPassword,function(){$appfactory.mobile||t.changeLoginDialogVisibility(!0);t._userName.focus()}))},_method_Failure:function(n,t,i){this._wait(!1);$appfactory.alert(String.format("Method {0} has failed. {1}",i,n.get_message()))},_loginButtonClick:function(){this.login()},_loginDialogMouseOver:function(){this.changeLoginDialogVisibility(!0,50)},_loginDialogMouseOut:function(){this.changeLoginDialogVisibility(!1,500)},_textBoxKeyPress:function(n){n.charCode==Sys.UI.Key.enter&&(n.preventDefault(),this.login());n.charCode==Sys.UI.Key.esc&&(n.preventDefault(),this.set_isLoginDialogVisible(!0),this.changeLoginDialogVisibility(!1))},login:function(){var n=this,t;if(n.loggedIn(),!n._waitDataView||!n._waitDataView._busy())if(this._userName&&this._password){if(t=/^\s*$/,t.exec(this._userName.value)){$appfactory.alert(Web.MembershipResources.Messages.BlankUserName,function(){n.set_isLoginDialogVisible(!1);n._userName.focus()});return}if(t.exec(this._password.value)){this.set_isLoginDialogVisible(!1);$appfactory.alert(Web.MembershipResources.Messages.BlankPassword,function(){n.set_isLoginDialogVisible(!1);n._password.focus()});return}this._wait(!0);$app.login(this._userName.value,this._password.value,this._rememberMe!=null&&this._rememberMe.checked,function(){n._login_CompletedHandler(!0)},function(){n._login_CompletedHandler(!1)})}else $appfactory.alert("UserName and/or Password elements are not found in the Memership_Login")},_wait:function(n){var t=this._waitDataView;t||(this._waitDiv=$("<div/>"),t=this._waitDataView=$create(Web.DataView,{},null,null,this._waitDiv[0]));t._busy(n)},logout:function(){this._protecting=!1;$app.logout(function(){location.reload()})},signUp:function(){this.changeLoginDialogVisibility(!1);Web.DataView.showModal($get("SignUp",this.get_membershipBar()),"aspnet_Membership","signUpForm","New","signUpForm",this.get_baseUrl(),this.get_servicePath())},passwordRecovery:function(){this.changeLoginDialogVisibility(!1);Web.DataView.showModal($get("PasswordRecovery",this.get_membershipBar()),"aspnet_Membership","passwordRequestForm","New","passwordRequestForm",this.get_baseUrl(),this.get_servicePath())},myAccount:function(){Web.DataView.showModal($get("MyAccount",this.get_membershipBar()),"aspnet_Membership","myAccountForm","Edit","myAccountForm",this.get_baseUrl(),this.get_servicePath())},help:function(n){var f=window.location.pathname,e=this.get_baseUrl()=="./"?f.substr(f.lastIndexOf("/"),100):"",i,t,o,u,r;if(e.length==0)for(i=this.get_baseUrl().split(/\//),t=f.split(/\//),i[i.length-1]==""&&Array.removeAt(i,i.length-1),t[t.length-1]==""&&Array.removeAt(t,t.length-1),t[0]==""&&Array.removeAt(t,0),o=i.length,t[t.length-1].indexOf(".")==-1&&o--,u=t.length-o-1;u<t.length;u++)e+="/"+t[u];if(r=String.format("{0}help{1}",this.get_baseUrl(),e),r=String.format("{0}Help/Default.aspx?topic={1}",this.get_baseUrl(),encodeURI(r)),n){window.open(r);this.help();return}this._helpBar||(this._helpDiv=document.createElement("div"),document.body.appendChild(this._helpDiv),this._helpDiv.className="HelpBar",this._helpDiv.innerHTML=String.format('<div class="Title">{1}<\/div><iframe id="help" frameBorder="0"><\/iframe><div class="Buttons"><button onclick="$find(&quot;{0}&quot;).help()">{2}<\/button><button onclick="$find(&quot;{0}&quot;).help(true)">{3}<\/button><\/div>',this.get_id(),Web.MembershipResources.Bar.HelpLink,Web.MembershipResources.Bar.HelpCloseButton,Web.MembershipResources.Bar.HelpFullScreenButton),this._helpFrame=$get("help",this._helpDiv),this._helpBar=$create(AjaxControlToolkit.AlwaysVisibleControlBehavior,{HorizontalSide:AjaxControlToolkit.HorizontalSide.Right,VerticalSide:AjaxControlToolkit.VerticalSide.Top,HorizontalOffset:18,VerticalOffset:30},null,null,this._helpDiv),Sys.UI.DomElement.setVisible(this._helpDiv,!1));Sys.UI.DomElement.setVisible(this._helpDiv,!Sys.UI.DomElement.getVisible(this._helpDiv));Sys.UI.DomElement.getVisible(this._helpDiv)&&(this._helpFrame.src==""&&(this._helpFrame.src=r),this._helpBar._reposition())}};Web.Membership.registerClass("Web.Membership",Sys.Component);typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded()